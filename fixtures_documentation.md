# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ–∏–∫—Å—Ç—É—Ä–∞–º

## –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω—ã —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π `Category` –∏ `Product`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∏–∫—Å—Ç—É—Ä

### üìÅ –ü–∞–ø–∫–∞: `catalog/fixtures/`

- `categories.json` - —Ñ–∏–∫—Å—Ç—É—Ä–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π (8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
- `products.json` - —Ñ–∏–∫—Å—Ç—É—Ä–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (18 –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- `initial_data.json` - –æ–±—â–∞—è —Ñ–∏–∫—Å—Ç—É—Ä–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ (5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π + 6 –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

## –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–∫—Å—Ç—É—Ä

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
python manage.py loaddata initial_data
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
python manage.py loaddata categories
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

```bash
python manage.py loaddata products
```

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∫—Å—Ç—É—Ä

```bash
python manage.py loaddata categories products
```

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∏–∫—Å—Ç—É—Ä

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (categories.json)

1. **–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞** - –¢–æ–≤–∞—Ä—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –≥–∞–¥–∂–µ—Ç—ã
2. **–û–¥–µ–∂–¥–∞** - –ú—É–∂—Å–∫–∞—è –∏ –∂–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞, –æ–±—É–≤—å, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã
3. **–ö–Ω–∏–≥–∏** - –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞
4. **–°–ø–æ—Ä—Ç** - –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞
5. **–î–æ–º –∏ —Å–∞–¥** - –¢–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ–º–∞, —Å–∞–¥–∞ –∏ —Ä–µ–º–æ–Ω—Ç–∞
6. **–ö—Ä–∞—Å–æ—Ç–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ** - –ö–æ—Å–º–µ—Ç–∏–∫–∞, –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è, —Ç–æ–≤–∞—Ä—ã –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è
7. **–ê–≤—Ç–æ—Ç–æ–≤–∞—Ä—ã** - –ê–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã –∏ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
8. **–ò–≥—Ä—É—à–∫–∏ –∏ —Ö–æ–±–±–∏** - –î–µ—Ç—Å–∫–∏–µ –∏–≥—Ä—É—à–∫–∏, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã, —Ç–æ–≤–∞—Ä—ã –¥–ª—è —Ö–æ–±–±–∏

### –ü—Ä–æ–¥—É–∫—Ç—ã (products.json)

#### –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞:
- –°–º–∞—Ä—Ç—Ñ–æ–Ω iPhone 15 Pro (99,999.99 —Ä—É–±.)
- –ù–æ—É—Ç–±—É–∫ Dell XPS 13 (129,999.99 —Ä—É–±.)
- –ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ Sony WH-1000XM5 (29,999.99 —Ä—É–±.)

#### –û–¥–µ–∂–¥–∞:
- –§—É—Ç–±–æ–ª–∫–∞ –º—É–∂—Å–∫–∞—è —Ö–ª–æ–ø–∫–æ–≤–∞—è (1,999.99 —Ä—É–±.)
- –î–∂–∏–Ω—Å—ã –∂–µ–Ω—Å–∫–∏–µ Levi's 501 (5,999.99 —Ä—É–±.)
- –ö—Ä–æ—Å—Å–æ–≤–∫–∏ Nike Air Max (8,999.99 —Ä—É–±.)

#### –ö–Ω–∏–≥–∏:
- –ö–Ω–∏–≥–∞ '–í–æ–π–Ω–∞ –∏ –º–∏—Ä' –õ.–ù. –¢–æ–ª—Å—Ç–æ–π (899.99 —Ä—É–±.)
- –ö–Ω–∏–≥–∞ '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞' –ú.–ê. –ë—É–ª–≥–∞–∫–æ–≤ (799.99 —Ä—É–±.)

#### –°–ø–æ—Ä—Ç:
- –§—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á Adidas Champions League (3,999.99 —Ä—É–±.)
- –í–µ–ª–æ—Å–∏–ø–µ–¥ –≥–æ—Ä–Ω—ã–π Trek Marlin 7 (45,999.99 —Ä—É–±.)

#### –î–æ–º –∏ —Å–∞–¥:
- –ì–æ—Ä—à–æ–∫ –¥–ª—è —Ü–≤–µ—Ç–æ–≤ –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (599.99 —Ä—É–±.)
- –ù–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ Bosch (15,999.99 —Ä—É–±.)

#### –ö—Ä–∞—Å–æ—Ç–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ:
- –ö—Ä–µ–º –¥–ª—è –ª–∏—Ü–∞ La Roche-Posay (1,299.99 —Ä—É–±.)
- –í–∏—Ç–∞–º–∏–Ω—ã Centrum (899.99 —Ä—É–±.)

#### –ê–≤—Ç–æ—Ç–æ–≤–∞—Ä—ã:
- –ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–µ –º–∞—Å–ª–æ Mobil 1 (2,499.99 —Ä—É–±.)
- –ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π –∫–æ–≤—Ä–∏–∫ (799.99 —Ä—É–±.)

#### –ò–≥—Ä—É—à–∫–∏ –∏ —Ö–æ–±–±–∏:
- –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ '–ú–æ–Ω–æ–ø–æ–ª–∏—è' (1,999.99 —Ä—É–±.)
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä LEGO Technic (5,999.99 —Ä—É–±.)

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∏–∫—Å—Ç—É—Ä

### –≠–∫—Å–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
python manage.py dumpdata catalog.Category --indent=2 > my_categories.json

# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
python manage.py dumpdata catalog.Product --indent=2 > my_products.json

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –µ—ë –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
python manage.py dumpdata catalog.Category catalog.Product --indent=2 > category_with_products.json
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON —Ñ–∏–∫—Å—Ç—É—Ä—ã

```json
[
  {
    "model": "catalog.category",
    "pk": 1,
    "fields": {
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-01T00:00:00Z"
    }
  },
  {
    "model": "catalog.product",
    "pk": 1,
    "fields": {
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞",
      "image": "",
      "category": 1,
      "price": "999.99",
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-01T00:00:00Z"
    }
  }
]
```

## –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python manage.py shell
```

```python
from catalog.models import Category, Product
Product.objects.all().delete()
Category.objects.all().delete()
```

### –°–±—Ä–æ—Å –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–∫—Å—Ç—É—Ä

```bash
# –û—á–∏—Å—Ç–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
python manage.py flush --noinput
python manage.py loaddata initial_data
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏

```python
from django.test import TestCase

class CatalogTestCase(TestCase):
    fixtures = ['initial_data']
    
    def test_category_count(self):
        from catalog.models import Category
        self.assertEqual(Category.objects.count(), 5)
    
    def test_product_count(self):
        from catalog.models import Product
        self.assertEqual(Product.objects.count(), 6)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ Django shell

```bash
python manage.py shell
```

```python
from catalog.models import Category, Product

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
print(f"–ö–∞—Ç–µ–≥–æ—Ä–∏–π: {Category.objects.count()}")
print(f"–ü—Ä–æ–¥—É–∫—Ç–æ–≤: {Product.objects.count()}")

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π
for cat in Category.objects.all():
    print(f"{cat.id}: {cat.name}")

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤
for prod in Product.objects.all():
    print(f"{prod.id}: {prod.name} - {prod.price} —Ä—É–±.")
```

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `python manage.py runserver`
2. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:8000/admin/`
3. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª—ã "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏" –∏ "–¢–æ–≤–∞—Ä—ã"

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –§–∏–∫—Å—Ç—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è (2024-01-01)
- –ü–æ–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—É—Å—Ç—ã–º–∏
- –¶–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã –≤ —Ä—É–±–ª—è—Ö —Å –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- –°–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ 